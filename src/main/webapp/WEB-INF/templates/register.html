<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:include="fragments/head :: head (title ='rejestracja')">
	<title>HomeBudget</title>
</head>
<body>
	<nav class="navbar navbar-default navbar-fixed-top" th:replace="fragments/menu :: menu">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="/">HomeBudget</a>
			</div>
			<div class="collapse navbar-collapse" id="myNavbar">
				<ul class="nav navbar-nav">
					<li><a th:href="@{/budget}">Budżet</a></li>
				</ul>
				<ul class="nav navbar-nav navbar-right">
					<li><a th:href="@{/logout}" href="/logout"><span class="glyphicon glyphicon-log-out"></span> Wyloguj</a></li>
				</ul>
			</div>
		</div>
	</nav>
	
	<div class="container cont bg-1 shadow-1 text-center">
		<h2>Zakładanie konta</h2>
		<div th:replace="fragments/msg :: msg">messages</div>
		
		<form class="col-sm-offset-3 col-sm-6" role="form" method="POST" th:object="${user}" >
			<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
			
			<div class="form-group" th:classappend="${#fields.hasErrors('username')}? 'has-error'" >
				<label for="username">Nazwa użytkownika</label>
				<input type="text" class="form-control" th:field="*{username}" size="30" required="required" autofocus="autofocus" />
				<div th:each="err : ${#fields.errors('username')}" th:text="${err}" ></div>
			</div>
			<div class="form-group" th:classappend="${#fields.hasErrors('email')}? 'has-error'" >
				<label for="email">Email:</label>
				<input type="email" class="form-control" th:field="*{email}" size="50" required="required" />
				<ul>
					<li th:each="err : ${#fields.errors('email')}" th:text="${err}" />
				</ul>
			</div>
			<div class="form-group" th:classappend="${#fields.hasErrors('password')}? 'has-error'" >
				<label for="password">Hasło:</label>
				<input type="password" class="form-control" th:field="*{password}" size="30" required="required" />
				<div th:each="err : ${#fields.errors('password')}" th:text="${err}" ></div>
			</div>
			<div class="form-group" th:classappend="${#fields.hasErrors('repeatedPassword')}? 'has-error'" >
				<label for="repeatedPassword">Powtórz hasło:</label>
				<input type="password" class="form-control" th:field="*{repeatedPassword}" size="30" required="required" />
				<div th:each="err : ${#fields.errors('repeatedPassword')}" th:text="${err}" ></div>
			</div>
			<button type="submit" class="btn btn-default">Załóż konto</button>
		</form>
		
	</div>
	<script type="text/javascript">
    /*<![CDATA[*/
	function setActiveMenu() {
		document.getElementById("menuRegister").className = "active";
    }
    
	$(document).ready(function(){
    	setActiveMenu();
	});
	/*]]>*/
	</script>
</body>
</html>